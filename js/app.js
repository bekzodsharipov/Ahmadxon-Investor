document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),t=document.getElementById("registrationModal"),n=document.getElementById("closeModalBtn"),o=document.querySelector(".homeModalOverlay"),d=document.getElementById("registrationForm"),l=document.getElementById("name"),r=document.getElementById("nameError"),c=document.getElementById("phone"),i=document.getElementById("phoneError"),a=document.getElementById("submitBtn"),m=document.getElementById("selectedCountry"),s=document.getElementById("selectedCountryCode"),u=document.getElementById("countryDropdown"),y=document.getElementById("dropdownIcon"),E=setupPhoneFormatter({inputEl:c,codeLabelEl:s,dropdownEl:u,triggerEl:m,iconEl:y,errorEl:i,defaultCode:"+998"});let g=!1,p=0;function B(){t&&(g=!0,p=window.scrollY,t.style.display="block",document.body.style.overflow="hidden",i.style.display="none",r&&(r.style.display="none"))}function I(){t&&g&&(g=!1,t.style.display="none",document.body.style.overflow="",window.scrollTo(0,p))}e.forEach((e=>e.addEventListener("click",B))),n&&n.addEventListener("click",I),o&&o.addEventListener("click",I),d.addEventListener("submit",(function(e){e.preventDefault();const t=(l?.value||"").trim(),n=c.value.trim();if(!t)return void(r&&(r.style.display="block"));if(r&&(r.style.display="none"),!E.validate(n))return void(i.style.display="block");i.style.display="none",a.textContent="YUBORILMOQDA...",a.disabled=!0;const o=new Date,d=o.toLocaleDateString("uz-UZ"),m=o.toLocaleTimeString("uz-UZ"),s={Ism:t,TelefonRaqam:E.getCurrentCode()+" "+n,SanaSoat:d+" - "+m};localStorage.setItem("formData",JSON.stringify(s)),window.location.href="./thankYou.html"}))}));